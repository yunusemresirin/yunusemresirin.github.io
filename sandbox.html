<!DOCTYPE html>
<html>
    <head>
        <style>
            * {
                padding: 0;
                margin: 0;
                box-sizing: border-box;
                font-family: fantasy;

                color: black;
                letter-spacing: 1px;
            }

            body {
                background-image: url("img/starry-night-sky.jpg");
                position: relative;
                display: flex;
                justify-content: center;
            }

            section {
                position: relative;
                display: grid;
                grid: 10% 90% / 100%;

                width: 100%;
                height: 100em;
                padding: 2em 1.5em;
                margin: 2em;
                
                background: linear-gradient(rgba(43,16,85, 0.8), rgba(80, 80, 255, 0.7));
                border-radius: 10px;
            }

            section nav {
                margin-bottom: 1rem;
            }

            #back {
                text-decoration: none;

                background: linear-gradient(#fff, rgb(43,16,85));
                color: #2b1055;

                text-transform: uppercase;
                font-weight: 700;
                letter-spacing: 2px;

                border-radius: 20px;
                padding: 10px;
            }

            #back:hover {
                opacity: 0.75;
            }

            .sandbox {
                margin-top: -5em;
                background-color: rgba(180,180,180,0.5);
                padding: 1em;
                border-radius: 2em;
            }

            .sandbox ul li {
                list-style: none;
                margin-top: 0.5rem;
            }

            #datatypes li {
                list-style: square;
                margin-left: 1em;
            }

            #square {
                width: 30px;
                height: 30px;
                position: relative;
                top: 0;
                left: 0;
                margin: 2.5em 50%;
                transform: translate(-50%, -50%) rotate(0deg);
            }

        </style>
    </head>
    <body>
        <section>
            <nav>
                <a href="index.html" id="back">Back</a>
            </nav>
            <div class="sandbox">
                <ul>
                    <li>
                        <div class="topic">
                            <h2>JavaScript</h2>
                            <div class="row">
                                <ul>
                                    <li>
                                        <h3>typeof / instanceof</h3>
                                        <p>
                                            Der Unterschied zwischen typeof und instanceof ist, dass ersteres prüft, welcher Typ genau vorliegt, wohingegen instanceof prüft, 
                                            ob das zu-vergleichende Objekt einem anderen Objekt entspricht (Prüfen der Instanz). Das heißt, dass bei 
                                            der typeof-Operation geprüft wird, welchem primitiven Datentypen die 
                                            deklarierte Variable angehört. Zum Beispiel:<br>
                                            <ul id="datatypes">
                                                <li>typeof 2023 -> "Number"</li>
                                                <li>typeof "2023" -> "String"</li>
                                                <li>typeof true -> "Boolean"</li>
                                                <li>typeof null -> "Object"</li>
                                            </ul>
                                            <br>
                                            Andernfalls wird festgestellt, dass es sich um ein 'Object' handelt: <br>
                                            <ul id="datatypes">
                                                <li>typeof (() => {}) -> "Function"</li>
                                            </ul>
                                            <br>
                                            Die instanceof-Operation gibt einen Wahrheitswert aus, ob eine deklarierte Variable einer bestimmten Instanz entspricht wird:
                                            <ul id="datatypes">
                                                <li>[1,2,3] instanceof Array -> "true"</li>
                                            </ul>
                                            <br>
                                        </p>
                                    </li>
                                    <li>
                                        <h3>requestAnimationFrame</h3>
                                        <p>
                                            requestAnimationFrame() ist eine JavaScript-Funktion, die es ermöglicht, eine Funktion (einen "Animations-Frame") aufzurufen, 
                                            während eine Animation läuft. Diese Funktion gibt eine requestId zurück, die verwendet werden kann, um die Animation mit der JavaScript-Funktion cancelAnimationFrame() zu beenden.
                                            <br><br>
                                            Der Vorteil von requestAnimationFrame ist, dass es die Animation mit der Bildrate des Geräts synchronisiert, was bedeutet, dass es 
                                            die bestmögliche Leistung und Energieeffizienz bietet. 
                                            <br><br>
                                            Im Gegensatz dazu werden bei Verwendung von setInterval oder setTimeout unnötige Frames berechnet, 
                                            was zu einer schlechteren Leistung und höherem Energieverbrauch führen kann.
                                            Ein einfaches Beispiel für die Verwendung von requestAnimationFrame ist eine Animation eines pulsierenden Quadrates:
                                        </p>
                                        <div id="square"></div>
                                    </li>
                                    <li>
                                        <h3>requestIdleCallback</h3>
                                        <p>
                                            requestIdleCallback() ist eine JavaScript Funktion, die es ermöglicht, Code asynchron auszuführen, wenn der Browser nicht beschäftigt ist.
                                            Zum Beispiel:
                                            <pre>
                                                <code>
    // Funktion, die bei Freizeit ausgeführt werden soll
    function processTasks( deadline ) {
        while ( deadline.timeRemaining() > 0 ) {
            if ( taskQueue.length > 0 ) {
                let task = taskQueue.shift();
                task(); // Eine beliebige Task
            }
        }
    }

    // Verwendung von requestIdleCallback
    requestIdleCallback(processTasks);
                                                </code>
                                            </pre>
                                            In diesem Beispiel wird die Funktion processTasks bei 
                                            Freizeit des Browsers ausgeführt, die über die Funktion 
                                            requestIdleCallback angefordert wird. Die Funktion 
                                            processTasks verarbeitet dann so viele Aufgaben wie möglich, 
                                            solange noch Zeit verfügbar ist (basierend auf dem deadline-Objekt).
                                        </p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <h2>Scalable Vector Graphics</h2>
                        <ul>
                            <li>
                                <h3>SVG Animation mit SMIL</h3>
                                <p>Hier ist ein Beispiel für eine SVG-Animation mit SMIL (Synchronized Multimedia Integration Language) in HTML:</p>
                                <svg width="100" height="100">
                                    <rect x="0" y="0" width="100" height="100" fill="#6f9">
                                      <animate attributeName="x" from="0" to="200" dur="6s" repeatCount="indefinite"/>
                                    </rect>
                                </svg>
                                <p>
                                    In diesem Beispiel animieren wir die x-Position eines Rechtecks innerhalb eines SVG-Elements. 
                                    Die Animation bewegt das Rechteck von x=0 nach x=200 in 3 Sekunden, wobei die Animation unendlich 
                                    oft wiederholt wird (repeatCount="indefinite").
                                </p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <script>
            let square = document.getElementById('square');
            let angle = 0;
            let scale = 1;
            let growing = true;
            let hue = 0;

            function animate() {
                angle = (angle + 2) % 360;
                square.style.transform = `translate(-50%, -50%) rotate(${angle}deg) scale(${scale})`;
                square.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
                hue = (hue + 1) % 360;

                if (growing) {
                    scale += 0.05;
                } else {
                    scale -= 0.05;
                }

                if (scale >= 1.5) {
                    growing = false;
                } else if (scale <= 0.5) {
                    growing = true;
                }

                requestAnimationFrame(animate);
            }

            requestAnimationFrame(animate);

            // Funktion, die bei Freizeit ausgeführt werden soll
            function processTasks(deadline) {
                while (deadline.timeRemaining() > 0) {
                    if (taskQueue.length > 0) {
                        let task = taskQueue.shift();
                        task(); // Eine beliebige Task
                    }
                }
            }

            // Verwendung von requestIdleCallback
            // requestIdleCallback(processTasks);
        </script>
    </body>
</html>